import{B as T,C as d,w as m,o as n,f as r,i,x as h,t as c,l as y,E as v,F as p,q as S,p as _,h as g}from"./vendor.7da4eb3e.js";import{_ as C}from"./index.d6b8bd09.js";const w="FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF",f="FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF",A="https://ptx.111transportdata.tw/MOTC/",l={"Tourism.ScenicSpot":"v2/Tourism/ScenicSpot","Tourism.Restaurant":"v2/Tourism/Restaurant","Tourism.Hotel":"v2/Tourism/Hotel","Tourism.Activity":"v2/Tourism/Activity","Tourism.A1":"v2/Tourism/Bus/RealTimeByFrequency/TaiwanTrip","Tourism.A2":"v2/Tourism/Bus/RealTimeNearStop/TaiwanTrip","Tourism.N1":"v2/Tourism/Bus/EstimatedTimeOfArrival/TaiwanTrip","Tourism.Route":"v2/Tourism/Bus/Route/TaiwanTrip","Tourism.StopOfRoute":"v2/Tourism/Bus/StopOfRoute/TaiwanTrip","Tourism.Schedule":"v2/Tourism/Bus/Schedule/TaiwanTrip","Tourism.Shape":"v2/Tourism/Bus/Shape/TaiwanTrip","Tourism.S2TravelTime":"v2/Tourism/Bus/S2TravelTime/TaiwanTrip"},b={setup(){const e=T({response:[],selected:{county:"\u65B0\u5317\u5E02"},countyobj:{\u81FA\u5317\u5E02:"Taipei",\u65B0\u5317\u5E02:"NewTaipei",\u6843\u5712\u5E02:"Taoyuan",\u81FA\u4E2D\u5E02:"Taichung",\u81FA\u5357\u5E02:"Tainan",\u9AD8\u96C4\u5E02:"Kaohsiung",\u57FA\u9686\u5E02:"Keelung",\u65B0\u7AF9\u5E02:"Hsinchu",\u65B0\u7AF9\u7E23:"HsinchuCounty",\u82D7\u6817\u7E23:"MiaoliCounty",\u5F70\u5316\u7E23:"ChanghuaCounty",\u5357\u6295\u7E23:"NantouCounty",\u96F2\u6797\u7E23:"YunlinCounty",\u5609\u7FA9\u7E23:"ChiayiCounty",\u5609\u7FA9\u5E02:"Chiayi",\u5C4F\u6771\u7E23:"PingtungCounty",\u5B9C\u862D\u7E23:"YilanCounty",\u82B1\u84EE\u7E23:"HualienCounty",\u81FA\u6771\u7E23:"TaitungCounty",\u91D1\u9580\u7E23:"KinmenCounty",\u6F8E\u6E56\u7E23:"PenghuCounty",\u9023\u6C5F\u7E23:"LienchiangCounty"}});return F(l["Tourism.ScenicSpot"],e.countyobj[e.selected.county]).then(t=>{e.response=t}),d(()=>{var t=L.map("map").setView([51.505,-.09],13);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t),L.marker([51.5,-.09]).addTo(t).bindPopup("A pretty CSS3 popup.<br> Easily customizable.").openPopup()}),m(()=>e.selected,t=>{console.log(t),F(l["Tourism.ScenicSpot"],e.countyobj[e.selected.county]).then(a=>{e.response=a})},{immediate:!0}),{data:e}}};function F(e,t){t=t?"/"+t:"";let a=A+e+t+"?$format=JSON&$top=2";return console.log(a),axios({method:"get",url:a,headers:B()}).then(o=>o.data).catch(o=>console.log(o))}function B(){var e=new Date().toGMTString(),t=new jsSHA("SHA-1","TEXT");t.setHMACKey(f,"TEXT"),t.update("x-date: "+e);var a=t.getHMAC("B64"),o='hmac username="'+w+'", algorithm="hmac-sha1", headers="x-date", signature="'+a+'"';return{Authorization:o,"X-Date":e}}const u=e=>(_("data-v-a211bc88"),e=e(),g(),e),x=u(()=>i("h1",{class:"text-7xl"},"detail\u672A\u5B8C\u6210",-1)),H={class:"container"},j=u(()=>i("h1",null,"https://leafletjs.com/reference-1.7.1.html",-1)),M=["value"],P=u(()=>i("div",{class:"grid"},[i("div",{id:"map"})],-1));function R(e,t,a,o,O,E){return n(),r(p,null,[x,i("div",H,[j,h(" "+c(o.data.response)+" ",1),y(i("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.data.selected.county=s)},[(n(!0),r(p,null,S(Object.keys(o.data.countyobj),s=>(n(),r("option",{value:s},c(s),9,M))),256))],512),[[v,o.data.selected.county]]),P])],64)}var z=C(b,[["render",R],["__scopeId","data-v-a211bc88"]]);export{z as default};
